# FID-20251125-002: Healthcare Industry Frontend Components

**Status:** PLANNED  
**Priority:** HIGH  
**Complexity:** 4/5  
**Created:** 2025-11-25  
**Estimated:** 8-12h

---

## Summary

Implement complete Healthcare Industry frontend component stack integrating with completed backend APIs (FID-20251125-001). Create 8 HeroUI-based React components covering medical devices, clinics, hospitals, insurance, pharmaceuticals, and research lab management. Components will use SWR hooks for data fetching, real-time updates, and optimistic UI patterns following ECHO v1.3.0 AAA quality standards.

---

## Business Value

- Complete Healthcare sector implementation (backend + frontend integration)
- Enable healthcare company simulation gameplay with full CRUD operations
- Provide AAA-quality user experience with HeroUI design system
- Establish reusable component patterns for remaining industries (Media, Energy, etc.)
- Support Legacy Feature Parity Implementation (FID-20251123-003 Phase 4)

---

## Acceptance Criteria

### Functional Requirements
- ✅ **8 Components Created:**
  - HealthcareDashboard - Overview with KPIs, tabs, activity feed (~300 lines)
  - MedicalDeviceManager - Device catalog, approvals, lifecycle tracking (~350 lines)
  - ClinicNetwork - Clinic creation, patient volume, revenue tracking (~320 lines)
  - HospitalOperations - Hospital management, capacity, specializations (~380 lines)
  - InsurancePortfolio - Plan management, claims, risk assessment (~360 lines)
  - PharmaceuticalPipeline - Drug development, FDA approval tracking (~400 lines)
  - ResearchLabDashboard - Clinical trials, research projects (~370 lines)
  - index.ts - Clean barrel exports (~30 lines)

- ✅ **Main Route Created:**
  - src/app/healthcare/page.tsx - Healthcare industry route (~200 lines)

- ✅ **HeroUI Integration:**
  - All components use HeroUI library (Card, Table, Button, Modal, Tabs, Progress, Chip, Badge)
  - Consistent design system with existing migrated components
  - Tailwind v4 utility classes for custom styling
  - Framer Motion animations for transitions

- ✅ **Data Integration:**
  - SWR hooks for data fetching with automatic revalidation
  - Integration with 6 healthcare API route pairs (devices, clinics, hospitals, insurance, pharmaceuticals, research)
  - Optimistic UI updates for create/update/delete operations
  - Real-time error handling with user-friendly messages

- ✅ **Component Composition:**
  - Reuse existing HospitalCard and PharmaceuticalCard components
  - Compose complex dashboards from simple building blocks
  - Share utilities and types across all healthcare components
  - Follow utility-first architecture pattern

### Quality Requirements
- ✅ **TypeScript Strict Mode:** 0 new errors (maintain current 0 error baseline)
- ✅ **AAA Quality Standards:**
  - Complete implementations (no pseudo-code or placeholders)
  - Comprehensive JSDoc documentation for all components and functions
  - Inline comments explaining complex logic and business rules
  - Production-ready error handling and loading states
  - Accessibility compliance (WCAG 2.1 AA)

- ✅ **ECHO Compliance:**
  - Complete file reading before any edits (1-EOF rule)
  - Backend-Frontend Contract Matrix verification
  - Code reuse and DRY principle enforcement
  - GUARDIAN protocol self-monitoring
  - Zero code duplication tolerance

### Testing Requirements
- ✅ **Manual Testing:**
  - All CRUD operations functional (create, read, update, delete)
  - Form validation working correctly
  - Loading states display appropriately
  - Error messages clear and actionable
  - Real-time updates trigger correctly

---

## Approach

### Phase 1: Planning & Preflight (1-1.5h)
1. **Create FID-20251125-002.md** - This file ✅
2. **Add to planned.md** - Via AUTO_UPDATE_PLANNED() ✅
3. **Create structured todo list** - 4 phases with acceptance criteria
4. **Load existing components:**
   - Read HealthcareDashboard.tsx completely (verify features)
   - Read HospitalCard.tsx completely (reuse opportunities)
   - Read PharmaceuticalCard.tsx completely (reuse opportunities)
5. **Load ALL healthcare APIs:**
   - Read devices/route.ts + [id]/route.ts (338 lines total)
   - Read clinics/route.ts + [id]/route.ts (379 lines total)
   - Read hospitals/route.ts + [id]/route.ts (407 lines total)
   - Read insurance/route.ts + [id]/route.ts (363 lines total)
   - Read pharmaceuticals/route.ts + [id]/route.ts (395 lines total)
   - Read research/route.ts + [id]/route.ts (423 lines total)
6. **Generate Contract Matrix:**
   - Create comprehensive endpoint verification table
   - Verify 100% backend coverage (all endpoints exist)
   - Check naming/property/status/error format consistency
7. **Present plan to user** - Wait for final approval before Phase 2

### Phase 2: Dashboard Foundation (2-3h)
1. **HealthcareDashboard Component:**
   - KPI cards (total devices, active clinics, hospital capacity, insurance plans, pipeline drugs, active trials)
   - Tab navigation (Devices | Clinics | Hospitals | Insurance | Pharmaceuticals | Research)
   - Activity feed (recent operations, approvals, launches)
   - Quick actions (Create Device, New Clinic, Add Hospital, etc.)
   - Integration with all 6 API endpoints for aggregated metrics

2. **Healthcare Page Route:**
   - Create src/app/healthcare/page.tsx
   - Layout with HealthcareDashboard as primary component
   - Authentication check (redirect if not logged in)
   - Company context provider

### Phase 3: Device & Clinic Components (2-3h)
1. **MedicalDeviceManager Component:**
   - Device catalog table (name, type, status, approval stage, market date)
   - Create device modal (classification, intended use, regulatory pathway)
   - FDA approval workflow (Pre-market, Clinical Trials, Review, Approved, Monitoring)
   - Device lifecycle tracking (development → testing → approval → market → monitoring)
   - Revenue and market share metrics

2. **ClinicNetwork Component:**
   - Clinic list with metrics (patient volume, revenue, services offered)
   - Create clinic modal (location, type, specializations, capacity)
   - Patient volume tracking (daily/weekly/monthly charts)
   - Revenue analytics (per-service breakdown, trends)
   - Service management (add/remove clinic services)

### Phase 4: Hospital & Insurance (2-3h)
1. **HospitalOperations Component:**
   - Hospital overview cards (bed capacity, occupancy rate, specializations)
   - Department management (add/remove specializations)
   - Capacity planning (bed utilization, staffing needs)
   - Financial metrics (revenue, operating costs, profit margin)
   - Reuse HospitalCard for summary displays

2. **InsurancePortfolio Component:**
   - Insurance plan table (plan name, premium, deductible, coverage limit, enrollees)
   - Create plan modal (Bronze/Silver/Gold/Platinum tiers, coverage options)
   - Claims processing dashboard (pending, approved, denied claims)
   - Risk assessment metrics (loss ratio, claims per enrollee)
   - Premium optimization (adjust pricing based on risk)

### Phase 5: Pharmaceutical & Research (2-3h)
1. **PharmaceuticalPipeline Component:**
   - Drug pipeline stages (Discovery → Pre-clinical → Phase 1-3 → FDA Review → Launch)
   - Create drug modal (therapeutic area, target indication, mechanism of action)
   - FDA approval tracking (submission status, approval probability, timeline)
   - Revenue forecasting (market size, pricing, patent expiration)
   - R&D cost tracking (cumulative spend per drug)
   - Reuse PharmaceuticalCard for drug summaries

2. **ResearchLabDashboard Component:**
   - Clinical trial management (active trials, enrollment status, phase)
   - Research project list (focus area, progress, publications)
   - Trial participant tracking (enrolled, completed, adverse events)
   - Publication metrics (papers published, citations, impact factor)
   - Breakthrough discovery alerts (major findings, grant funding)

### Phase 6: Integration & Testing (1-1.5h)
1. **Index file creation:**
   - Create src/components/healthcare/index.ts
   - Export all 8 components with clean barrel exports
   - Follow ECHO Index File Compliance

2. **Integration testing:**
   - Verify all CRUD operations work end-to-end
   - Test form validation and error handling
   - Check loading states and real-time updates
   - Validate component composition (no broken imports)

3. **Quality audit:**
   - TypeScript strict mode verification (0 errors)
   - JSDoc documentation completeness check
   - AAA quality standards compliance
   - ECHO GUARDIAN protocol verification

### Phase 7: Documentation & Completion (0.5-1h)
1. **AUTO_UPDATE_COMPLETED():**
   - Move FID from progress.md to completed.md
   - Calculate metrics (actual time vs estimated, LOC, quality)
   - Capture lessons learned
   - Archive FID file to dev/fids/archives/2025-11/

2. **Generate completion report:**
   - Create docs/COMPLETION_REPORT_FID-20251125-002_[DATE].md
   - Include implementation summary, metrics, lessons, quality results
   - Link report to completed.md entry

3. **Final verification:**
   - Run TypeScript compilation (npm run build)
   - Verify 0 errors
   - Test all components in browser
   - Confirm 100% acceptance criteria met

---

## Files

### NEW Components (~2,510 LOC total)
- `src/components/healthcare/HealthcareDashboard.tsx` (~300 lines) - Main dashboard with KPIs, tabs, activity
- `src/components/healthcare/MedicalDeviceManager.tsx` (~350 lines) - Device catalog and FDA approvals
- `src/components/healthcare/ClinicNetwork.tsx` (~320 lines) - Clinic management and metrics
- `src/components/healthcare/HospitalOperations.tsx` (~380 lines) - Hospital operations and capacity
- `src/components/healthcare/InsurancePortfolio.tsx` (~360 lines) - Insurance plans and claims
- `src/components/healthcare/PharmaceuticalPipeline.tsx` (~400 lines) - Drug development pipeline
- `src/components/healthcare/ResearchLabDashboard.tsx` (~370 lines) - Clinical trials and research
- `src/components/healthcare/index.ts` (~30 lines) - Clean barrel exports

### NEW Route
- `src/app/healthcare/page.tsx` (~200 lines) - Healthcare industry main route

### EXISTING Components (Will Reuse)
- `src/components/healthcare/HospitalCard.tsx` (~150 lines) - Hospital summary card
- `src/components/healthcare/PharmaceuticalCard.tsx` (~140 lines) - Drug summary card

### EXISTING APIs (Backend Integration)
- `src/app/api/healthcare/devices/route.ts` + `[id]/route.ts` (338 lines total)
- `src/app/api/healthcare/clinics/route.ts` + `[id]/route.ts` (379 lines total)
- `src/app/api/healthcare/hospitals/route.ts` + `[id]/route.ts` (407 lines total)
- `src/app/api/healthcare/insurance/route.ts` + `[id]/route.ts` (363 lines total)
- `src/app/api/healthcare/pharmaceuticals/route.ts` + `[id]/route.ts` (395 lines total)
- `src/app/api/healthcare/research/route.ts` + `[id]/route.ts` (423 lines total)

**Total New LOC:** ~2,710 lines (components + route)

---

## Dependencies

### Completed Prerequisites ✅
- FID-20251125-001 (Healthcare Backend APIs) - All 6 route pairs implemented and functional
- FID-20251120-003 (HeroUI Migration) - HospitalCard and PharmaceuticalCard migrated
- FID-001 (Infrastructure) - SWR hooks, apiClient, type system
- HeroUI component library installed and configured
- Tailwind v4 with theme support

### No Blockers
- Can be implemented immediately after user approval
- All backend APIs ready for integration
- Component library (HeroUI) fully functional
- Existing healthcare components available for reuse

---

## Backend-Frontend Contract Matrix (To Be Generated)

**Phase 1.75 will generate comprehensive table:**

| Component | Endpoint | Method | Request | Response | Status | Notes |
|-----------|----------|--------|---------|----------|--------|-------|
| HealthcareDashboard | `/api/healthcare/devices` | GET | `?company=ID` | `{ data: Device[] }` | ✅ | Exists, ready |
| HealthcareDashboard | `/api/healthcare/clinics` | GET | `?company=ID` | `{ data: Clinic[] }` | ✅ | Exists, ready |
| HealthcareDashboard | `/api/healthcare/hospitals` | GET | `?company=ID` | `{ data: Hospital[] }` | ✅ | Exists, ready |
| HealthcareDashboard | `/api/healthcare/insurance` | GET | `?company=ID` | `{ data: InsurancePlan[] }` | ✅ | Exists, ready |
| HealthcareDashboard | `/api/healthcare/pharmaceuticals` | GET | `?company=ID` | `{ data: Drug[] }` | ✅ | Exists, ready |
| HealthcareDashboard | `/api/healthcare/research` | GET | `?company=ID` | `{ data: Trial[] }` | ✅ | Exists, ready |
| MedicalDeviceManager | `/api/healthcare/devices` | POST | `{ name, type, ... }` | `{ id, created }` | ✅ | Create device |
| MedicalDeviceManager | `/api/healthcare/devices/[id]` | GET/PATCH/DELETE | `...` | `{ data: Device }` | ✅ | CRUD ops |
| ClinicNetwork | `/api/healthcare/clinics` | POST | `{ location, type, ... }` | `{ id, created }` | ✅ | Create clinic |
| ClinicNetwork | `/api/healthcare/clinics/[id]` | GET/PATCH/DELETE | `...` | `{ data: Clinic }` | ✅ | CRUD ops |
| HospitalOperations | `/api/healthcare/hospitals` | POST | `{ name, capacity, ... }` | `{ id, created }` | ✅ | Create hospital |
| HospitalOperations | `/api/healthcare/hospitals/[id]` | GET/PATCH/DELETE | `...` | `{ data: Hospital }` | ✅ | CRUD ops |
| InsurancePortfolio | `/api/healthcare/insurance` | POST | `{ planName, premium, ... }` | `{ id, created }` | ✅ | Create plan |
| InsurancePortfolio | `/api/healthcare/insurance/[id]` | GET/PATCH/DELETE | `...` | `{ data: Plan }` | ✅ | CRUD ops |
| PharmaceuticalPipeline | `/api/healthcare/pharmaceuticals` | POST | `{ drugName, indication, ... }` | `{ id, created }` | ✅ | Create drug |
| PharmaceuticalPipeline | `/api/healthcare/pharmaceuticals/[id]` | GET/PATCH/DELETE | `...` | `{ data: Drug }` | ✅ | CRUD ops |
| ResearchLabDashboard | `/api/healthcare/research` | POST | `{ title, phase, ... }` | `{ id, created }` | ✅ | Create trial |
| ResearchLabDashboard | `/api/healthcare/research/[id]` | GET/PATCH/DELETE | `...` | `{ data: Trial }` | ✅ | CRUD ops |

**Expected Coverage:** 100% (all 6 API route pairs exist and functional)

---

## Notes

### Component Reuse Strategy
- **HospitalCard** - Use in HospitalOperations for summary cards
- **PharmaceuticalCard** - Use in PharmaceuticalPipeline for drug cards
- **KPIGrid** (from other dashboards) - Reuse pattern for healthcare KPIs
- **DataTable** (shared component) - Reuse for all list views

### HeroUI Components Used
- **Card** - Primary container for all dashboard sections
- **Table** - Data display for devices, clinics, hospitals, plans, drugs, trials
- **Button** - Actions (Create, Edit, Delete, Submit)
- **Modal** - Create/edit forms for all entities
- **Tabs** - Navigation in HealthcareDashboard
- **Progress** - FDA approval stages, clinical trial phases
- **Chip** - Status badges (Approved, Pending, Phase 2, etc.)
- **Badge** - Count indicators, notifications

### SWR Integration Pattern
```typescript
// Example: MedicalDeviceManager
import useSWR from 'swr';
import { apiClient } from '@/lib/utils/apiClient';

const { data: devices, error, mutate } = useSWR(
  `/api/healthcare/devices?company=${companyId}`,
  apiClient.get
);

// Optimistic update on create
const handleCreate = async (deviceData) => {
  const optimisticDevice = { id: 'temp', ...deviceData };
  mutate([...devices, optimisticDevice], false);
  
  const result = await apiClient.post('/api/healthcare/devices', deviceData);
  mutate(); // Revalidate from server
};
```

### Error Handling Pattern
- Display user-friendly error messages (not raw API errors)
- Show loading states during async operations
- Handle network failures gracefully (retry buttons)
- Validate forms before submission (client-side + server-side)

### Accessibility Considerations
- Semantic HTML elements (nav, main, section, article)
- ARIA labels for interactive elements
- Keyboard navigation support (Tab, Enter, Escape)
- Focus management in modals and forms
- Color contrast compliance (WCAG 2.1 AA)

---

## Success Metrics

### Completion Criteria
- ✅ All 8 components created and functional
- ✅ Healthcare page route operational
- ✅ 100% backend API integration (all endpoints working)
- ✅ TypeScript strict mode: 0 errors
- ✅ AAA quality standards met (no pseudo-code, complete documentation)
- ✅ ECHO compliance verified (GUARDIAN protocol, DRY principle)
- ✅ Component reuse achieved (HospitalCard, PharmaceuticalCard)
- ✅ Index file created with clean exports

### Quality Verification
- ✅ JSDoc documentation: 100% coverage
- ✅ Inline comments: Explain all complex logic
- ✅ Error handling: Comprehensive and user-friendly
- ✅ Loading states: Display appropriately
- ✅ Form validation: Client and server-side
- ✅ Accessibility: WCAG 2.1 AA compliance

### Performance Targets
- Initial render: < 1 second
- CRUD operations: < 500ms response time
- SWR revalidation: Automatic on focus/reconnect
- Optimistic updates: Immediate UI feedback

---

**Auto-maintained by ECHO v1.3.0 with GUARDIAN PROTOCOL v2.0**
