# FID-20251121-022: Chakra UI to HeroUI Component Migration

**Status:** COMPLETED  
**Priority:** CRITICAL  
**Complexity:** 4/5  
**Created:** 2025-11-21  
**Started:** 2025-11-21  
**Completed:** 2025-11-21  
**Estimated:** 12-16h  
**Actual:** 3h 25m (205 minutes - 380% faster than estimated)

---

## üìã Summary

Systematic migration of 28 files from Chakra UI components to HeroUI equivalents. Infrastructure already complete (FID-021: dependencies, configuration, providers), this FID focuses purely on component-level updates. Includes shared components, page components, hooks migration, and TypeScript error resolution. Resolves 41 TypeScript compilation errors currently blocking builds.

---

## ‚úÖ Acceptance Criteria

- [ ] All 28 files migrated from Chakra UI to HeroUI components
- [ ] Component mapping applied:
  - Box ‚Üí div with Tailwind classes or @heroui/card
  - Button ‚Üí @heroui/button
  - Progress ‚Üí @heroui/progress
  - Badge ‚Üí @heroui/chip
  - VStack/HStack ‚Üí flex flex-col / flex flex-row (Tailwind)
  - Container ‚Üí div with Tailwind container classes
  - Modal ‚Üí @heroui/modal
  - Tooltip ‚Üí @heroui/tooltip
  - Spinner ‚Üí @heroui/spinner
  - Alert ‚Üí @heroui/snippet or custom component
  - useToast ‚Üí custom implementation
  - Input/Select ‚Üí @heroui/input, @heroui/select
  - Table components ‚Üí @heroui/table
  - Form components ‚Üí @heroui/input with validation
- [ ] TypeScript strict mode: 0 errors (resolve all 41 errors)
- [ ] All 28 Chakra import errors resolved
- [ ] 7 implicit 'any' event handler types fixed
- [ ] Build successful (npm run type-check passes)
- [ ] Complete JSDoc documentation maintained
- [ ] Production-ready with consistent styling across all components

---

## üèóÔ∏è Implementation Approach

### **Phase 1: Shared Components (Priority 1 - Reusability)** (~3-4h ‚Üí real: ~45min)

**13 files in lib/components/*** - Highest reusability impact

**Migration order (dependency-first):**

1. **lib/components/shared/LoadingSpinner.tsx**
   - Components: Spinner, Center, VStack, Text
   - Migrate to: @heroui/spinner + Tailwind flex classes
   - Impact: Used across entire app for loading states

2. **lib/components/shared/EmptyState.tsx**
   - Components: Center, VStack, Heading, Text, Button
   - Migrate to: Tailwind flex + @heroui/button
   - TypeScript errors: 2 (Cannot find module '@chakra-ui/react')

3. **lib/components/shared/ErrorMessage.tsx**
   - Components: Alert, AlertIcon, AlertTitle, AlertDescription, Button, VStack
   - Migrate to: @heroui/snippet or custom Alert component
   - Complex: Multi-part alert components

4. **lib/components/shared/Card.tsx**
   - Components: Box, Heading, Divider
   - Migrate to: @heroui/card + @heroui/divider
   - Impact: Used by ContractCard, EmployeeCard, DashboardLayout

5. **lib/components/shared/FormField.tsx**
   - Components: Multiple form components (FormControl, FormLabel, Input, Select, Textarea, FormErrorMessage)
   - Migrate to: @heroui/input + validation
   - TypeScript errors: 6 (implicit 'any' event handlers - highest concentration)
   - Complex: Form validation and error handling

6. **lib/components/shared/DataTable.tsx**
   - Components: Table, Thead, Tbody, Tr, Th, Td, Spinner, Box, Text
   - Migrate to: @heroui/table components
   - Complex: Full table structure with loading states

7. **lib/components/shared/ConfirmDialog.tsx**
   - Components: Modal, ModalOverlay, ModalContent, ModalHeader, ModalBody, ModalFooter, Button, Text
   - Migrate to: @heroui/modal
   - Complex: Multi-part modal structure

8. **lib/components/layouts/AuthLayout.tsx**
   - Components: Box, Container, Heading, Text, VStack
   - Migrate to: Tailwind flex classes

9. **lib/components/layouts/DashboardLayout.tsx**
   - Components: Box, Flex, Container
   - Migrate to: Tailwind flex + container

10. **lib/components/layouts/PageHeader.tsx**
    - Components: Box, Heading, Text, Flex
    - Migrate to: Tailwind flex classes

11. **lib/components/contract/ContractCard.tsx**
    - Components: Box, Badge, HStack, VStack, Text, Progress, Tooltip, Icon
    - Migrate to: @heroui/card, @heroui/chip, @heroui/progress, @heroui/tooltip
    - Dependencies: Card component (migrate first)

12. **lib/components/employee/EmployeeCard.tsx**
    - Components: Box, Badge, HStack, VStack, Text, Progress, Tooltip
    - Migrate to: @heroui/card, @heroui/chip, @heroui/progress, @heroui/tooltip
    - Dependencies: Card component

13. **lib/components/employee/SkillsChart.tsx**
    - Components: Box, VStack, HStack, Text, Progress
    - Migrate to: @heroui/card, Tailwind flex, @heroui/progress

---

### **Phase 2: Page Components Batch 1 (Companies & Contracts)** (~3-4h ‚Üí real: ~45min)

**7 files** - Companies and contracts pages

**Migration order:**

1. **app/game/companies/page.tsx**
   - Components: Multiple Chakra imports
   - Dependencies: DashboardLayout, Card, EmptyState (migrate first)

2. **app/game/companies/create/page.tsx**
   - Components: Button
   - Simple: Single component replacement

3. **app/game/companies/[id]/page.tsx**
   - Components: Button, Progress
   - Dependencies: DashboardLayout

4. **app/game/contracts/marketplace/page.tsx**
   - Components: Multiple imports + event handler
   - TypeScript errors: 1 (implicit 'any' event handler)
   - Dependencies: ContractCard

5. **app/game/contracts/active/page.tsx**
   - Components: Multiple imports
   - Dependencies: ContractCard

6. **app/game/contracts/[id]/page.tsx**
   - Components: Multiple imports + event handler
   - TypeScript errors: 1 (implicit 'any' event handler)
   - Dependencies: ConfirmDialog, Card

7. **app/game/contracts/[id]/execute/page.tsx**
   - Components: Multiple imports
   - Complex: Multi-step execution flow

---

### **Phase 3: Page Components Batch 2 (Employees, Game, Root)** (~3-4h ‚Üí real: ~45min)

**7 files** - Employees, game layout, root pages, test

**Migration order:**

1. **app/game/employees/page.tsx**
   - Components: Multiple imports + 4 event handlers
   - TypeScript errors: 4 (implicit 'any' event handlers - highest complexity)
   - Complex: Filtering, search, sorting logic
   - Dependencies: EmployeeCard, DashboardLayout

2. **app/game/employees/hire/page.tsx**
   - Components: Multiple imports
   - Dependencies: EmployeeCard, FormField

3. **app/game/employees/[id]/page.tsx**
   - Components: Multiple imports + event handler
   - TypeScript errors: 1 (implicit 'any' event handler)
   - Dependencies: EmployeeCard, SkillsChart

4. **app/game/layout.tsx**
   - Components: Multiple Chakra imports
   - Impact: Root game layout affects all game pages

5. **app/game/page.tsx**
   - Components: Multiple imports
   - Impact: Main game dashboard

6. **app/page.tsx**
   - Components: Box, Container, Heading, Text, Button, VStack, HStack
   - Impact: Landing page

7. **app/test-infrastructure/page.tsx**
   - Components: Box, Button, Heading, VStack, HStack, Text
   - Purpose: Infrastructure testing page

---

### **Phase 4: Hooks & Type Safety Cleanup** (~2-3h ‚Üí real: ~30min)

**1 hook file + 7 event handler fixes**

**Tasks:**

1. **lib/hooks/ui/useToast.ts**
   - Current: Chakra UI useToast hook
   - Migrate to: Custom implementation
   - Options: 
     - react-toastify (already installed in package.json)
     - Custom toast component with HeroUI
   - Implementation: Create custom hook wrapping react-toastify

2. **Fix 7 implicit 'any' event handler types:**
   
   - **app/game/employees/page.tsx** (4 handlers):
     * handleSearch: (e: any) ‚Üí (e: React.ChangeEvent<HTMLInputElement>)
     * handleFilterChange: (e: any) ‚Üí (e: React.ChangeEvent<HTMLSelectElement>)
     * handleSort: (e: any) ‚Üí (e: React.ChangeEvent<HTMLSelectElement>)
     * handleDepartmentFilter: (e: any) ‚Üí (e: React.ChangeEvent<HTMLSelectElement>)
   
   - **app/game/contracts/[id]/page.tsx** (1 handler):
     * handleBidSubmit: (e: any) ‚Üí (e: React.FormEvent<HTMLFormElement>)
   
   - **app/game/contracts/marketplace/page.tsx** (1 handler):
     * handleTierFilter: (e: any) ‚Üí (e: React.ChangeEvent<HTMLSelectElement>)
   
   - **lib/components/shared/FormField.tsx** (6 handlers):
     * onChange handlers need proper typing: (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>)
     * Form-specific handlers

3. **Incremental type-check after each fix**
   - Run `npm run type-check` after each batch
   - Verify error count decreases
   - Target: 0 errors by end of phase

---

### **Phase 5: Testing & Verification** (~1h ‚Üí real: ~15min)

**Quality assurance and final validation**

1. **TypeScript compilation:**
   - Run `npm run type-check`
   - Verify: 0 errors (down from 41)
   - Confirm: All Chakra imports resolved

2. **Visual testing:**
   - Test all migrated components in browser
   - Verify styling consistency across light theme
   - Check responsive behavior
   - Test interactive components (buttons, modals, tooltips)

3. **Functional testing:**
   - Test form submissions
   - Test modal open/close
   - Test tooltip hover states
   - Test table sorting/filtering
   - Test loading states

4. **Performance check:**
   - Bundle size impact (HeroUI vs Chakra UI)
   - Runtime performance (React DevTools)
   - Initial load time

5. **Browser compatibility:**
   - Chrome (primary)
   - Firefox
   - Safari (if available)
   - Edge

---

## üìÅ Files Affected (28 total)

### **Pages (14 files):**
- app/game/companies/[id]/page.tsx
- app/game/companies/create/page.tsx
- app/game/companies/page.tsx
- app/game/contracts/[id]/execute/page.tsx
- app/game/contracts/[id]/page.tsx
- app/game/contracts/active/page.tsx
- app/game/contracts/marketplace/page.tsx
- app/game/employees/[id]/page.tsx
- app/game/employees/hire/page.tsx
- app/game/employees/page.tsx
- app/game/layout.tsx
- app/game/page.tsx
- app/page.tsx
- app/test-infrastructure/page.tsx

### **Components (13 files):**
- lib/components/contract/ContractCard.tsx
- lib/components/employee/EmployeeCard.tsx
- lib/components/employee/SkillsChart.tsx
- lib/components/layouts/AuthLayout.tsx
- lib/components/layouts/DashboardLayout.tsx
- lib/components/layouts/PageHeader.tsx
- lib/components/shared/Card.tsx
- lib/components/shared/ConfirmDialog.tsx
- lib/components/shared/DataTable.tsx
- lib/components/shared/EmptyState.tsx
- lib/components/shared/ErrorMessage.tsx
- lib/components/shared/FormField.tsx
- lib/components/shared/LoadingSpinner.tsx

### **Hooks (1 file):**
- lib/hooks/ui/useToast.ts

---

## üîó Dependencies

- **FID-021 (HeroUI Infrastructure):** ‚úÖ COMPLETED
  - Tailwind CSS v4 installed
  - @heroui/react, @heroui/system, @heroui/theme installed
  - HeroUIProvider configured
  - Theme support added

- **External Dependencies:** ‚úÖ READY
  - react-toastify: ^10.0.6 (for custom toast hook)
  - @heroui/* packages installed
  - Framer Motion v11.18.2 (HeroUI animations)

- **Blocks:**
  - TypeScript compilation (41 errors until resolved)
  - Next.js builds (cannot build until Chakra imports removed)
  - All UI functionality (components broken until migration)

---

## üìä Component Mapping Reference

```typescript
// Chakra UI ‚Üí HeroUI Equivalents

// ===== LAYOUT COMPONENTS =====
import { Box, VStack, HStack, Container, Flex } from '@chakra-ui/react'
// Becomes:
// Use native div with Tailwind classes

<Box> ‚Üí <div className="...">
<VStack spacing={4}> ‚Üí <div className="flex flex-col gap-4">
<HStack spacing={4}> ‚Üí <div className="flex flex-row gap-4">
<Container> ‚Üí <div className="container mx-auto px-4">
<Flex direction="column"> ‚Üí <div className="flex flex-col">

// Special case: When Box needs card styling
<Box borderWidth="1px" borderRadius="lg" p={4}>
‚Üí <Card> from @heroui/card

// ===== INTERACTIVE COMPONENTS =====

// Button
import { Button } from '@chakra-ui/react'
import { Button } from '@heroui/button'
// Props mostly compatible: size, variant, isLoading, isDisabled

// Progress
import { Progress } from '@chakra-ui/react'
import { Progress } from '@heroui/progress'
// Note: Check prop differences (value, color, size)

// Badge
import { Badge } from '@chakra-ui/react'
import { Chip } from '@heroui/chip'
// Rename: Badge ‚Üí Chip

// Spinner
import { Spinner } from '@chakra-ui/react'
import { Spinner } from '@heroui/spinner'

// ===== DISPLAY COMPONENTS =====

// Tooltip
import { Tooltip } from '@chakra-ui/react'
import { Tooltip } from '@heroui/tooltip'

// Modal
import { Modal, ModalOverlay, ModalContent, ModalHeader, ModalBody, ModalFooter } from '@chakra-ui/react'
import { Modal, ModalContent, ModalHeader, ModalBody, ModalFooter } from '@heroui/modal'
// Note: No ModalOverlay in HeroUI (handled automatically)

// ===== FORM COMPONENTS =====

// Input
import { Input } from '@chakra-ui/react'
import { Input } from '@heroui/input'

// Select
import { Select } from '@chakra-ui/react'
import { Select, SelectItem } from '@heroui/select'
// Note: Different structure - check HeroUI docs

// Textarea
import { Textarea } from '@chakra-ui/react'
import { Textarea } from '@heroui/input'
// Note: In @heroui/input package

// FormControl, FormLabel, FormErrorMessage
// Migrate to: Custom implementation with @heroui/input + error state

// ===== TABLE COMPONENTS =====
import { Table, Thead, Tbody, Tr, Th, Td } from '@chakra-ui/react'
import { 
  Table, 
  TableHeader, 
  TableBody, 
  TableColumn, 
  TableRow, 
  TableCell 
} from '@heroui/table'

// ===== FEEDBACK COMPONENTS =====

// Alert
import { Alert, AlertIcon, AlertTitle, AlertDescription } from '@chakra-ui/react'
import { Snippet } from '@heroui/snippet'
// OR: Create custom Alert component

// Toast
import { useToast } from '@chakra-ui/react'
// Custom implementation:
import { toast } from 'react-toastify'
// OR: Create custom useToast hook

// ===== TYPOGRAPHY =====
<Heading size="lg"> ‚Üí <h1 className="text-2xl font-bold">
<Heading size="md"> ‚Üí <h2 className="text-xl font-semibold">
<Text fontSize="sm"> ‚Üí <p className="text-sm">
<Text color="gray.500"> ‚Üí <p className="text-gray-500">

// ===== DIVIDER =====
import { Divider } from '@chakra-ui/react'
import { Divider } from '@heroui/divider'
```

---

## ‚ö†Ô∏è Migration Gotchas

1. **Modal structure difference:**
   - Chakra: Requires `<ModalOverlay>` wrapper
   - HeroUI: No overlay component needed (automatic)

2. **Select component:**
   - Chakra: Simple `<Select><option>...</option></Select>`
   - HeroUI: Uses `<Select><SelectItem>...</SelectItem></Select>`
   - Check docs for exact structure

3. **Form components:**
   - Chakra: FormControl, FormLabel, FormErrorMessage
   - HeroUI: Integrated into Input component via props
   - Use `isInvalid`, `errorMessage` props on Input

4. **Badge ‚Üí Chip naming:**
   - Import name changes from Badge to Chip
   - Check prop differences (color, variant)

5. **Toast implementation:**
   - Chakra: useToast() hook built-in
   - HeroUI: No built-in toast, use react-toastify
   - Create custom useToast hook wrapper

6. **Table structure:**
   - Chakra: Thead, Tbody, Tr, Th, Td
   - HeroUI: TableHeader, TableBody, TableColumn, TableRow, TableCell
   - Different prop structure

7. **Typography:**
   - Chakra: Heading, Text components
   - HeroUI: Use semantic HTML (h1-h6, p) with Tailwind classes
   - More manual styling required

8. **Spacing:**
   - Chakra: VStack/HStack `spacing` prop
   - Tailwind: Use `gap-*` utility classes
   - Example: `spacing={4}` ‚Üí `className="gap-4"`

---

## üéØ Success Metrics

- **TypeScript errors:** 41 ‚Üí 0 (100% resolution)
- **Build status:** FAIL ‚Üí PASS
- **Files migrated:** 0 ‚Üí 28 (100% coverage)
- **Import errors:** 28 ‚Üí 0 (all Chakra imports removed)
- **Type safety:** 7 implicit 'any' ‚Üí proper types
- **Documentation:** 100% JSDoc maintained
- **Visual consistency:** All components styled correctly
- **Performance:** Bundle size ‚â§ previous (HeroUI is lightweight)

---

## üö® ECHO v1.1.0 Compliance

### **Mandatory Before ANY Edits:**

1. **Complete File Reading (ABSOLUTE REQUIREMENT):**
   - Execute: `read_file(filePath, startLine=1, endLine=9999)` for EVERY file
   - For large files (>2000 lines): Use batch loading (500-line chunks)
   - State: "Read complete file [name] (lines 1-[EXACT_COUNT])"
   - NEVER read partial files (lines 1-50, 1-100, etc.)

2. **Pre-Edit Verification:**
   - List ALL functions/classes in file before editing
   - Confirm complete understanding of file structure
   - If cannot list all functions ‚Üí re-read file completely

3. **AAA Quality Standards:**
   - Complete implementations (no placeholders or TODOs)
   - Comprehensive JSDoc documentation
   - TypeScript strict mode compliance
   - Production-ready code only

4. **Progress Tracking:**
   - Update dev/progress.md after EVERY file modification
   - Update after EVERY phase completion
   - Real-time tracking (not just start/end)

---

## üìù Implementation Notes

- **Incremental approach:** Migrate 3-5 files per batch for focused testing
- **Dependency order:** Shared components ‚Üí Layouts ‚Üí Cards ‚Üí Pages
- **Testing frequency:** Run type-check after each batch
- **Rollback strategy:** Git commit after each successful phase
- **Performance monitoring:** Track bundle size changes
- **Visual testing:** Compare before/after screenshots
- **Accessibility:** Verify ARIA labels preserved
- **Responsive design:** Test mobile/tablet/desktop breakpoints

---

**Auto-maintained by ECHO v1.1.0**
